setupfinecorners = [
    gl_TexCoord[1].xy = gl_MultiTexCoord0.xy + vec2(-1, 0);
    gl_TexCoord[2].xy = gl_MultiTexCoord0.xy + vec2( 1, 0);
    gl_TexCoord[3].xy = gl_MultiTexCoord0.xy + vec2( 0, -1);
    gl_TexCoord[4].xy = gl_MultiTexCoord0.xy + vec2( 0,  1);
]

lazyshader 4 "sharpen" [ @fsvs @setupfinecorners } ] [
    uniform vec4 params;
    @fsps
    @sample4corners
	gl_FragColor = vec4((sample.x * 2.2) - 0.25*(s00.x + s02.x + s20.x + s22.x + sample.x), (sample.y * 2.2)- 0.25*(s00.y + s02.y + s20.y + s22.y + sample.y), (sample.z * 2.2) - 0.25*(s00.z + s02.z + s20.z + s22.z + sample.z), sample.w);
    }
]
