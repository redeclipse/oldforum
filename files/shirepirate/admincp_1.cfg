//admin_control_panel v1.4

bind LEFTBRACKET [showgui admin_control_panel 2]
bind RIGHTBRACKET [showgui admin_control_panel 3]

cn = ""
cnsel = "-1"
serverclientz = "128"
playeraction = "0"
playeractioncommand = ""
actionreason = "0"
actionreasontext = ""
chosenlock = "0"
chosenlockaction = ""

newgui admin_control_panel [
    guiheader "admin control panel"
    guicenter [ guitext "admin_control_panel by shirepirate" ]
    guicenter [ guitext "version 1.4" ]
    guicenter [ guitext "compatible with Red Eclipse version 1.5.3" ]
    guistrut 0.5
    guicenter [ guitext "check for updates at:" ]
    guicenter [ guitext "http://redeclipse.net/forum/viewtopic.php?f=5&t=346" "" 0x22FF22 ]
    guicenter [ guitext "https://github.com/red-eclipse/community/tree/master/shirepirate/cfg" "" 0x22FF22 ]
    guistrut 0.5
    guicenter [ guitext "special thanks to bonifarz & Calinou" ]
    guitab "player control"
    guivisibletab [
        guistayopen [
            guicenter [ guifont "emphasis" [ guitext "click a name below to perform actions on a player:" ] ]
            guistrut 0.5
            guicenter [
                guilist [
                    guilist [
                        if (! (& (mutators) $mutsbitffa) ) [
                            guinohitfx [
                                guiimage "textures/teamalpha" [] 1 0 "" [] $teamalphacolour
                                guistrut 0.5
                                guilist [
                                    guitext "player name" "" $teamalphacolour
                                    guibar "" 0 1 $teamalphacolour
                                    loop cn $serverclientz [
                                        if (> (stringlen (getclientname $cn) ) 0) [
                                            if (= (getclientteam $cn) 1) [
                                                if (&& (= (isai @cn) 0) (= (getclientpriv @cn 0) 1) (= (getclientpriv @cn 1) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/none" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/none" 0 $teamalphacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamalphacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 1) 1) (= (getclientpriv @cn 2) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/player" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/player" 0 $teamalphacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamalphacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 2) 1) (= (getclientpriv @cn 3) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/supporter" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/supporter" 0 $teamalphacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamalphacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 3) 1) (= (getclientpriv @cn 4) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/moderator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/moderator" 0 $teamalphacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamalphacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 4) 1) (= (getclientpriv @cn 5) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/operator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/operator" 0 $teamalphacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamalphacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 5) 1) (= (getclientpriv @cn 6) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/administrator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/administrator" 0 $teamalphacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamalphacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 6) 1) (= (getclientpriv @cn 7) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/developer" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/developer" 0 $teamalphacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamalphacolour
                                                        ]
                                                    ]
                                                ]
                                                if (getclientpriv @cn 7) [
                                                    if $isonline [
                                                        guilist [
                                                            if (= @cnsel @cn ) [
                                                                guitext "" "textures/privs/founder" 0 0xFFFFFF
                                                                guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                            ] [
                                                                guitext "" "textures/privs/founder" 0 $teamalphacolour
                                                                guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamalphacolour
                                                            ]
                                                        ]
                                                    ] [
                                                        guilist [
                                                            if (= @cnsel @cn ) [
                                                                guitext "" "textures/privs/none" 0 0xFFFFFF
                                                                guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                            ] [
                                                                guitext "" "textures/privs/none" 0 $teamalphacolour
                                                                guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamalphacolour
                                                            ]
                                                        ]
                                                    ]
                                                ]
                                                if (= (isai @cn) 1) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/bot" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/bot" 0 $teamalphacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamalphacolour
                                                        ]
                                                    ]
                                                ]
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                            guibar "" 0 1 $teamalphacolour
                            guilist [
                                guitext "cn" "" $teamalphacolour
                                guibar "" 0 1 $teamalphacolour
                                loop cn $serverclientz [
                                    if (> (stringlen (getclientname $cn) ) 0) [
                                        if (= (getclientteam $cn) 1) [
                                            guitext (format "%1" $cn ) "" $teamalphacolour
                                        ]
                                    ]
                                ]
                            ]
                            guibar "" 0 1 $teamalphacolour
                            guilist [
                                guitext "IP address" "" $teamalphacolour
                                guibar "" 0 1 $teamalphacolour
                                loop cn $serverclientz [
                                    if (> (stringlen (getclientname $cn) ) 0) [
                                        if (= (getclientteam $cn) 1) [
                                            guitext (format "%1" (getclienthost $cn) ) "" $teamalphacolour
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
                guistrut 1
                guilist [
                    guilist [
                        if (! (& (mutators) $mutsbitffa) ) [
                            guinohitfx [
                                guiimage "textures/teamomega" [] 1 0 "" [] $teamomegacolour
                                guistrut 0.5
                                guilist [
                                    guitext "player name" "" $teamomegacolour
                                    guibar "" 0 1 $teamomegacolour
                                    loop cn $serverclientz [
                                        if (> (stringlen (getclientname $cn) ) 0) [
                                            if (= (getclientteam $cn) 2) [
                                                if (&& (= (isai @cn) 0) (= (getclientpriv @cn 0) 1) (= (getclientpriv @cn 1) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/none" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/none" 0 $teamomegacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamomegacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 1) 1) (= (getclientpriv @cn 2) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/player" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/player" 0 $teamomegacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamomegacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 2) 1) (= (getclientpriv @cn 3) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/supporter" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/supporter" 0 $teamomegacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamomegacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 3) 1) (= (getclientpriv @cn 4) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/moderator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/moderator" 0 $teamomegacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamomegacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 4) 1) (= (getclientpriv @cn 5) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/operator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/operator" 0 $teamomegacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamomegacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 5) 1) (= (getclientpriv @cn 6) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/administrator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/administrator" 0 $teamomegacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamomegacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 6) 1) (= (getclientpriv @cn 7) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/developer" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/developer" 0 $teamomegacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamomegacolour
                                                        ]
                                                    ]
                                                ]
                                                if (getclientpriv @cn 7) [
                                                    if $isonline [
                                                        guilist [
                                                            if (= @cnsel @cn ) [
                                                                guitext "" "textures/privs/founder" 0 0xFFFFFF
                                                                guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                            ] [
                                                                guitext "" "textures/privs/founder" 0 $teamomegacolour
                                                                guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamomegacolour
                                                            ]
                                                        ]
                                                    ] [
                                                        guilist [
                                                            if (= @cnsel @cn ) [
                                                                guitext "" "textures/privs/none" 0 0xFFFFFF
                                                                guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                            ] [
                                                                guitext "" "textures/privs/none" 0 $teamomegacolour
                                                                guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamomegacolour
                                                            ]
                                                        ]
                                                    ]
                                                ]
                                                if (= (isai @cn) 1) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/bot" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/bot" 0 $teamomegacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamomegacolour
                                                        ]
                                                    ]
                                                ]
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                            guibar "" 0 1 $teamomegacolour
                            guilist [
                                guitext "cn" "" $teamomegacolour
                                guibar "" 0 1 $teamomegacolour
                                loop cn $serverclientz [
                                    if (> (stringlen (getclientname $cn) ) 0) [
                                        if (= (getclientteam $cn) 2) [
                                            guitext (format "%1" $cn ) "" $teamomegacolour
                                        ]
                                    ]
                                ]
                            ]
                            guibar "" 0 1 $teamomegacolour
                            guilist [
                                guitext "IP address" "" $teamomegacolour
                                guibar "" 0 1 $teamomegacolour
                                loop cn $serverclientz [
                                    if (> (stringlen (getclientname $cn) ) 0) [
                                        if (= (getclientteam $cn) 2) [
                                            guitext (format "%1" (getclienthost $cn) ) "" $teamomegacolour
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
            ]
            guistrut 0.5
            guicenter [
                guilist [
                    guilist [
                        if (&& (! (& (mutators) $mutsbitffa) ) (& (mutators) $mutsbitmulti) ) [
                            guinohitfx [
                                guiimage "textures/teamkappa" [] 1 0 "" [] $teamkappacolour
                                guistrut 0.5
                                guilist [
                                    guitext "player name" "" $teamkappacolour
                                    guibar "" 0 1 $teamkappacolour
                                    loop cn $serverclientz [
                                        if (> (stringlen (getclientname $cn) ) 0) [
                                            if (= (getclientteam $cn) 3) [
                                                if (&& (= (isai @cn) 0) (= (getclientpriv @cn 0) 1) (= (getclientpriv @cn 1) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/none" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/none" 0 $teamkappacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamkappacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 1) 1) (= (getclientpriv @cn 2) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/player" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/player" 0 $teamkappacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamkappacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 2) 1) (= (getclientpriv @cn 3) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/supporter" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/supporter" 0 $teamkappacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamkappacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 3) 1) (= (getclientpriv @cn 4) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/moderator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/moderator" 0 $teamkappacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamkappacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 4) 1) (= (getclientpriv @cn 5) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/operator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/operator" 0 $teamkappacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamkappacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 5) 1) (= (getclientpriv @cn 6) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/administrator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/administrator" 0 $teamkappacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamkappacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 6) 1) (= (getclientpriv @cn 7) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/developer" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/developer" 0 $teamkappacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamkappacolour
                                                        ]
                                                    ]
                                                ]
                                                if (getclientpriv @cn 7) [
                                                    if $isonline [
                                                        guilist [
                                                            if (= @cnsel @cn ) [
                                                                guitext "" "textures/privs/founder" 0 0xFFFFFF
                                                                guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                            ] [
                                                                guitext "" "textures/privs/founder" 0 $teamkappacolour
                                                                guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamkappacolour
                                                            ]
                                                        ]
                                                    ] [
                                                        guilist [
                                                            if (= @cnsel @cn ) [
                                                                guitext "" "textures/privs/none" 0 0xFFFFFF
                                                                guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                            ] [
                                                                guitext "" "textures/privs/none" 0 $teamkappacolour
                                                                guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamkappacolour
                                                            ]
                                                        ]
                                                    ]
                                                ]
                                                if (= (isai @cn) 1) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/bot" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/bot" 0 $teamkappacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamkappacolour
                                                        ]
                                                    ]
                                                ]
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                            guibar "" 0 1 $teamkappacolour
                            guilist [
                                guitext "cn" "" $teamkappacolour
                                guibar "" 0 1 $teamkappacolour
                                loop cn $serverclientz [
                                    if (> (stringlen (getclientname $cn) ) 0) [
                                        if (= (getclientteam $cn) 3) [
                                            guitext (format "%1" $cn ) "" $teamkappacolour
                                        ]
                                    ]
                                ]
                            ]
                            guibar "" 0 1 $teamkappacolour
                            guilist [
                                guitext "IP address" "" $teamkappacolour
                                guibar "" 0 1 $teamkappacolour
                                loop cn $serverclientz [
                                    if (> (stringlen (getclientname $cn) ) 0) [
                                        if (= (getclientteam $cn) 3) [
                                            guitext (format "%1" (getclienthost $cn) ) "" $teamkappacolour
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
                guistrut 1
                guilist [
                    guilist [
                        if (&& (! (& (mutators) $mutsbitffa) ) (& (mutators) $mutsbitmulti) ) [
                            guinohitfx [
                                guiimage "textures/teamsigma" [] 1 0 "" [] $teamsigmacolour
                                guistrut 0.5
                                guilist [
                                    guitext "player name" "" $teamsigmacolour
                                    guibar "" 0 1 $teamsigmacolour
                                    loop cn $serverclientz [
                                        if (> (stringlen (getclientname $cn) ) 0) [
                                            if (= (getclientteam $cn) 4) [
                                                if (&& (= (isai @cn) 0) (= (getclientpriv @cn 0) 1) (= (getclientpriv @cn 1) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/none" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/none" 0 $teamsigmacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamsigmacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 1) 1) (= (getclientpriv @cn 2) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/player" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/player" 0 $teamsigmacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamsigmacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 2) 1) (= (getclientpriv @cn 3) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/supporter" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/supporter" 0 $teamsigmacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamsigmacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 3) 1) (= (getclientpriv @cn 4) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/moderator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/moderator" 0 $teamsigmacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamsigmacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 4) 1) (= (getclientpriv @cn 5) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/operator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/operator" 0 $teamsigmacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamsigmacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 5) 1) (= (getclientpriv @cn 6) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/administrator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/administrator" 0 $teamsigmacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamsigmacolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 6) 1) (= (getclientpriv @cn 7) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/developer" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/developer" 0 $teamsigmacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamsigmacolour
                                                        ]
                                                    ]
                                                ]
                                                if (getclientpriv @cn 7) [
                                                    if $isonline [
                                                        guilist [
                                                            if (= @cnsel @cn ) [
                                                                guitext "" "textures/privs/founder" 0 0xFFFFFF
                                                                guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                            ] [
                                                                guitext "" "textures/privs/founder" 0 $teamsigmacolour
                                                                guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamsigmacolour
                                                            ]
                                                        ]
                                                    ] [
                                                        guilist [
                                                            if (= @cnsel @cn ) [
                                                                guitext "" "textures/privs/none" 0 0xFFFFFF
                                                                guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                            ] [
                                                                guitext "" "textures/privs/none" 0 $teamsigmacolour
                                                                guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamsigmacolour
                                                            ]
                                                        ]
                                                    ]
                                                ]
                                                if (= (isai @cn) 1) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/bot" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/bot" 0 $teamsigmacolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamsigmacolour
                                                        ]
                                                    ]
                                                ]
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                            guibar "" 0 1 $teamsigmacolour
                            guilist [
                                guitext "cn" "" $teamsigmacolour
                                guibar "" 0 1 $teamsigmacolour
                                loop cn $serverclientz [
                                    if (> (stringlen (getclientname $cn) ) 0) [
                                        if (= (getclientteam $cn) 4) [
                                            guitext (format "%1" $cn ) "" $teamsigmacolour
                                        ]
                                    ]
                                ]
                            ]
                            guibar "" 0 1 $teamsigmacolour
                            guilist [
                                guitext "IP address" "" $teamsigmacolour
                                guibar "" 0 1 $teamsigmacolour
                                loop cn $serverclientz [
                                    if (> (stringlen (getclientname $cn) ) 0) [
                                        if (= (getclientteam $cn) 4) [
                                            guitext (format "%1" (getclienthost $cn) ) "" $teamsigmacolour
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
            ]
            guistrut 0.5
            guicenter [
                guilist [
                    guilist [
                        if (& (mutators) $mutsbitffa) [
                            guinohitfx [
                                guiimage "textures/team" [] 1 0 "" [] $teamneutralcolour
                                guistrut 0.5
                                guilist [
                                    guitext "player name" "" $teamneutralcolour
                                    guibar "" 0 1 $teamneutralcolour
                                    loop cn $serverclientz [
                                        if (> (stringlen (getclientname $cn) ) 0) [
                                            if (&& (= (getclientteam $cn) 0) (= (isspectator $cn) 0) ) [
                                                if (&& (= (isai @cn) 0) (= (getclientpriv @cn 0) 1) (= (getclientpriv @cn 1) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/none" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/none" 0 $teamneutralcolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamneutralcolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 1) 1) (= (getclientpriv @cn 2) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/player" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/player" 0 $teamneutralcolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamneutralcolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 2) 1) (= (getclientpriv @cn 3) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/supporter" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/supporter" 0 $teamneutralcolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamneutralcolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 3) 1) (= (getclientpriv @cn 4) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/moderator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/moderator" 0 $teamneutralcolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamneutralcolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 4) 1) (= (getclientpriv @cn 5) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/operator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/operator" 0 $teamneutralcolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamneutralcolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 5) 1) (= (getclientpriv @cn 6) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/administrator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/administrator" 0 $teamneutralcolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamneutralcolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 6) 1) (= (getclientpriv @cn 7) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/developer" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/developer" 0 $teamneutralcolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamneutralcolour
                                                        ]
                                                    ]
                                                ]
                                                if (getclientpriv @cn 7) [
                                                    if $isonline [
                                                        guilist [
                                                            if (= @cnsel @cn ) [
                                                                guitext "" "textures/privs/founder" 0 0xFFFFFF
                                                                guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                            ] [
                                                                guitext "" "textures/privs/founder" 0 $teamneutralcolour
                                                                guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamneutralcolour
                                                            ]
                                                        ]
                                                    ] [
                                                        guilist [
                                                            if (= @cnsel @cn ) [
                                                                guitext "" "textures/privs/none" 0 0xFFFFFF
                                                                guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                            ] [
                                                                guitext "" "textures/privs/none" 0 $teamneutralcolour
                                                                guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamneutralcolour
                                                            ]
                                                        ]
                                                    ]
                                                ]
                                                if (= (isai @cn) 1) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/bot" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/bot" 0 $teamneutralcolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamneutralcolour
                                                        ]
                                                    ]
                                                ]
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                            guibar "" 0 1 $teamneutralcolour
                            guilist [
                                guitext "cn" "" $teamneutralcolour
                                guibar "" 0 1 $teamneutralcolour
                                loop cn $serverclientz [
                                    if (> (stringlen (getclientname $cn) ) 0) [
                                        if (&& (= (getclientteam $cn) 0) (= (isspectator $cn) 0) ) [
                                            guitext (format "%1" $cn ) "" $teamneutralcolour
                                        ]
                                    ]
                                ]
                            ]
                            guibar "" 0 1 $teamneutralcolour
                            guilist [
                                guitext "IP address" "" $teamneutralcolour
                                guibar "" 0 1 $teamneutralcolour
                                loop cn $serverclientz [
                                    if (> (stringlen (getclientname $cn) ) 0) [
                                        if (&& (= (getclientteam $cn) 0) (= (isspectator $cn) 0) ) [
                                            guitext (format "%1" (getclienthost $cn) ) "" $teamneutralcolour
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
                guistrut 1
                guilist [
                    guilist [
                        if (= (isspectator *) 1) [
                            guinohitfx [
                                guiimage "textures/spectator" [] 1 0 "" [] $teamenemycolour
                                guistrut 0.5
                                guilist [
                                    guitext "player name" "" $teamenemycolour
                                    guibar "" 0 1 $teamenemycolour
                                    loop cn $serverclientz [
                                        if (> (stringlen (getclientname $cn) ) 0) [
                                            if (&& (= (getclientteam $cn) 0) (= (isspectator $cn) 1) ) [
                                                if (&& (= (isai @cn) 0) (= (getclientpriv @cn 0) 1) (= (getclientpriv @cn 1) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/none" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/none" 0 $teamenemycolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamenemycolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 1) 1) (= (getclientpriv @cn 2) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/player" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/player" 0 $teamenemycolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamenemycolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 2) 1) (= (getclientpriv @cn 3) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/supporter" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/supporter" 0 $teamenemycolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamenemycolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 3) 1) (= (getclientpriv @cn 4) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/moderator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/moderator" 0 $teamenemycolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamenemycolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 4) 1) (= (getclientpriv @cn 5) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/operator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/operator" 0 $teamenemycolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamenemycolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 5) 1) (= (getclientpriv @cn 6) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/administrator" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/administrator" 0 $teamenemycolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamenemycolour
                                                        ]
                                                    ]
                                                ]
                                                if (&& (= (getclientpriv @cn 6) 1) (= (getclientpriv @cn 7) 0) ) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/developer" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/developer" 0 $teamenemycolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamenemycolour
                                                        ]
                                                    ]
                                                ]
                                                if (getclientpriv @cn 7) [
                                                    if $isonline [
                                                        guilist [
                                                            if (= @cnsel @cn ) [
                                                                guitext "" "textures/privs/founder" 0 0xFFFFFF
                                                                guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                            ] [
                                                                guitext "" "textures/privs/founder" 0 $teamenemycolour
                                                                guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamenemycolour
                                                            ]
                                                        ]
                                                    ] [
                                                        guilist [
                                                            if (= @cnsel @cn ) [
                                                                guitext "" "textures/privs/none" 0 0xFFFFFF
                                                                guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                            ] [
                                                                guitext "" "textures/privs/none" 0 $teamenemycolour
                                                                guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamenemycolour
                                                            ]
                                                        ]
                                                    ]
                                                ]
                                                if (= (isai @cn) 1) [
                                                    guilist [
                                                        if (= @cnsel @cn ) [
                                                            guitext "" "textures/privs/bot" 0 0xFFFFFF
                                                            guitext (format "%1" (getclientname $cn) ) "" 0xFFFFFF
                                                        ] [
                                                            guitext "" "textures/privs/bot" 0 $teamenemycolour
                                                            guibutton (format "%1" (getclientname $cn) ) [cnsel = @cn] [] "" $teamenemycolour
                                                        ]
                                                    ]
                                                ]
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                            guibar "" 0 1 $teamenemycolour
                            guilist [
                                guitext "cn" "" $teamenemycolour
                                guibar "" 0 1 $teamenemycolour
                                loop cn $serverclientz [
                                    if (> (stringlen (getclientname $cn) ) 0) [
                                        if (&& (= (getclientteam $cn) 0) (= (isspectator $cn) 1) ) [
                                            guitext (format "%1" $cn ) "" $teamenemycolour
                                        ]
                                    ]
                                ]
                            ]
                            guibar "" 0 1 $teamenemycolour
                            guilist [
                                guitext "IP address" "" $teamenemycolour
                                guibar "" 0 1 $teamenemycolour
                                loop cn $serverclientz [
                                    if (> (stringlen (getclientname $cn) ) 0) [
                                        if (&& (= (getclientteam $cn) 0) (= (isspectator $cn) 1) ) [
                                            guitext (format "%1" (getclienthost $cn) ) "" $teamenemycolour
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
            ]
            guistrut 0.25
            guibar "" 0 1 0xFFFFFF
            guistrut 0.25
            guilist [
                guilist [
                    guicenter [
                        guitext "perform the following action on "
                        guitext (format "%1" (getclientname $cnsel) ) "" 0x22FF22
                        guitext ":"
                    ]
                    guistrut 0.25
                    guicenter [
                        guilist [
                            guinohitfx [
                                guiradio "warn player" playeraction 1 [] 0x0000FF
                                guiradio "mute player" playeraction 2 [] 0xFFFF00
                                guiradio "kick player" playeraction 3 [] 0xFFA500
                                guiradio "ban player" playeraction 4 [] 0xFF0000
                                guiradio "limit player" playeraction 5 [] 0xFF00FF
                                guiradio "quarantine player" playeraction 6 [] 0x00FFFF
                            ]
                        ]
                        guistrut 3
                        guilist [
                            guistrut 1.5
                            guifont "emphasis" [ guitext "for" ]
                            guistrut 1.5
                        ]
                        guistrut 3
                        guilist [
                            guinohitfx [
                                guiradio "shooting team" actionreason 1 [] 0xFFFFFF
                                guiradio "team killing" actionreason 2 [] 0xFFFFFF
                                guiradio "chat spamming" actionreason 3 [] 0xFFFFFF
                                guiradio "chat abuse" actionreason 4 [] 0xFFFFFF
                                guiradio "bad nickname" actionreason 5 [] 0xFFFFFF
                                guiradio "disrupting game" actionreason 6 [] 0xFFFFFF
                                guiradio "changing teams" actionreason 7 [] 0xFFFFFF
                            ]
                        ]
                    ]
                    if (= $actionreason 1) [ actionreasontext = "Do not shoot your teammates!" ]
                    if (= $actionreason 2) [ actionreasontext = "Team killing is not allowed!" ]
                    if (= $actionreason 3) [ actionreasontext = "Do not spam the chat!" ]
                    if (= $actionreason 4) [ actionreasontext = "Do not abuse others in chat!" ]
                    if (= $actionreason 5) [ actionreasontext = "Change your nickname!" ]
                    if (= $actionreason 6) [ actionreasontext = "Do not disrupt the game!" ]
                    if (= $actionreason 7) [ actionreasontext = "Do not keep changing teams!" ]
                    if (= $playeraction 1) [ playeractioncommand = [ say "^fzyr^f(textures/warning)" (getclientname $cnsel) "^fb("(getclienthost $cnsel)")^fw : " $actionreasontext ] ]
                    if (= $playeraction 2) [ playeractioncommand = [ mute $cnsel $actionreasontext ] ]
                    if (= $playeraction 3) [ playeractioncommand = [ kick $cnsel $actionreasontext ] ]
                    if (= $playeraction 4) [ playeractioncommand = [ ban $cnsel $actionreasontext ] ]
                    if (= $playeraction 5) [ playeractioncommand = [ limit $cnsel $actionreasontext ] ]
                    if (= $playeraction 6) [ playeractioncommand = [ spectator 2 $cnsel; say "^fzyr^f"(getclientname $cnsel)"^fwYou have been ^fzyr^fqquarantined^fw for the following reason: '"$actionreasontext"'" ] ]
                    guistrut 0.25
                    guicenter [ guifont "emphasis" [ guibutton "execute action" [ playeractioncommand ] ] ]
                ]
                guistrut 1
                guibar "" 0 1 0xFFFFFF
                guistrut 1
                guilist [
                    guinohitfx [
                        guicenter [ guitext "move player to team:" ]
                        guistrut 0.5
                        guibutton (format "%1" $teamalphaname) [ spectator 0 $cnsel; setteam $cnsel 1 ] [] "textures/teamalpha" $teamalphacolour $teamalphacolour
                        guibutton (format "%1" $teamomeganame) [ spectator 0 $cnsel; setteam $cnsel 2 ] [] "textures/teamomega" $teamomegacolour $teamomegacolour
                        guibutton (format "%1" $teamkappaname) [ spectator 0 $cnsel; setteam $cnsel 3 ] [] "textures/teamkappa" $teamkappacolour $teamkappacolour
                        guibutton (format "%1" $teamsigmaname) [ spectator 0 $cnsel; setteam $cnsel 4 ] [] "textures/teamsigma" $teamsigmacolour $teamsigmacolour
                        guibutton "spectators" [ spectator 1 $cnsel ] [] "textures/spectator" $teamenemycolour $teamenemycolour
                    ]
                ]
            ]
            guistrut 0.25
            guibar "" 0 1 0xFFFFFF
            guistrut 0.25
            guinohitfx [
                guicenter [
                    guibutton "clear all existing bans " [clearbans] [] "textures/hud/alert" 0xFF0000 0xFF0000
                    guibar "" 0 1 0xFFFFFF
                    guibutton "clear all existing mutes " [clearmutes] [] "textures/hud/alert" 0xFFFF00 0xFFFF00
                    guibar "" 0 1 0xFFFFFF
                    guibutton "clear all existing limits " [clearlimits] [] "textures/hud/alert" 0xFF00FF 0xFF00FF
                ]
            ]
        ]
    ]
    guitab "server control"
    guivisibletab [
        guistayopen [
            guicenter [ guifont "emphasis" [ guitext "click an option below to manage this server:" ] ]
            guistrut 0.5
            guibar "" 0 1 0x6666FF
            guinohitfx [
                guicenter [
                    guibutton "pause/unpause the server" [ (if (= ($gamepaused) 0) [gamepaused 1] [gamepaused 0] ) ] [] "textures/modes/racetimed" 0x6666FF 0x6666FF
                    guistrut 0.5
                    guibar "" 0 1 0x6666FF
                    guistrut 0.5
                    guibutton "toggle infinite time limit" [ (if (= ($timelimit) 0) [timelimit (getvardef timelimit 1) ] [timelimit 0] ) ] [] "textures/modes/racetimed" 0x6666FF 0x6666FF
                ]
            ]
            guibar "" 0 1 0x6666FF
            guistrut 0.5
            guibar "" 0 1 0xFFFFFF
            guinohitfx [
                guicenter [
                    guitext "set mastermode:  "
                    guibutton "open" [mastermode 0] [] "textures/servers/default" 0x00CC00
                    guistrut 0.5
                    guibar "" 0 1 0xFFFFFF
                    guistrut 0.5
                    guibutton "veto" [mastermode 1] [] "textures/servers/failed" 0xFF0000
                    guistrut 0.5
                    guibar "" 0 1 0xFFFFFF
                    guistrut 0.5
                    guibutton "locked" [mastermode 2] [] "textures/servers/locked" 0xFFFF00
                    guistrut 0.5
                    guibar "" 0 1 0xFFFFFF
                    guistrut 0.5
                    guibutton "private" [mastermode 3] [] "textures/servers/private" 0xFF00FF
                ]
            ]
            guibar "" 0 1 0xFFFFFF
            guistrut 0.5
            guibar "" 0 1 0x00CC00
            guinohitfx [
                guicenter [
                    guibutton "reset server variables" [resetvars] [] "textures/hud/flagtaken" 0x00CC00 0x00CC00
                    guistrut 0.5
                    guibar "" 0 1 0x00CC00
                    guistrut 0.5
                    guibutton "save server variables" [savevars; sleep 1000; resetconfig] [] "textures/hud/attack" 0x00CC00 0x00CC00
                    guistrut 0.5
                    guibar "" 0 1 0x00CC00
                    guistrut 0.5
                    guibutton "store backup variables" [writevars backup.cfg 1 1; sleep 3000; sound 30; conout 4 "variables backup successful, saved backup.cfg to home folder"] [] "textures/modes/editing" 0x00CC00 0x00CC00
                    guistrut 0.5
                    guibar "" 0 1 0x00CC00
                    guistrut 0.5
                    guibutton "restore backup variables" [exec backup.cfg] [] "textures/modes/kaboom" 0x00CC00 0x00CC00
                ]
            ]
            guibar "" 0 1 0x00CC00
            guinohitfx [
                guicenter [
                    guitext "reset variables automatically: " "" 0x00CC00
                    guiradio "never" resetvarsonend 0 [] 0x00CC00
                    guistrut 0.5
                    guiradio "when server is empty" resetvarsonend 1 [] 0x00CC00
                    guistrut 0.5
                    guiradio "after every match" resetvarsonend 2 [] 0x00CC00
                ]
            ]
            guibar "" 0 1 0x00CC00
            guistrut 0.5
            guibar "" 0 1 0xFF0000
            guinohitfx [
                guicenter [
                    guitext "change locks: " "" 0xFF0000
                    guiradio "allows" chosenlock 1 [] 0xFF0000
                    guistrut 0.5
                    guiradio "balance teams" chosenlock 2 [] 0xFF0000
                    guistrut 0.5
                    guiradio "bans" chosenlock 3 [] 0xFF0000
                    guistrut 0.5
                    guiradio "connect" chosenlock 4 [] 0xFF0000
                    guistrut 0.5
                    guiradio "demos" chosenlock 5 [] 0xFF0000
                    guistrut 0.5
                    guiradio "edit spawn" chosenlock 6 [] 0xFF0000
                    guistrut 0.5
                    guiradio "edit map" chosenlock 7 [] 0xFF0000
                    guistrut 0.5
                    guiradio "kicks" chosenlock 8 [] 0xFF0000
                    guistrut 0.5
                    guiradio "limits" chosenlock 9 [] 0xFF0000
                ]
            ]
            guibar "" 0 1 0xFF0000
            guinohitfx [
                guicenter [
                    guistrut 0.5
                    guiradio "maps" chosenlock 10 [] 0xFF0000
                    guistrut 0.5
                    guiradio "mastermode" chosenlock 11 [] 0xFF0000
                    guistrut 0.5
                    guiradio "messages" chosenlock 12 [] 0xFF0000
                    guistrut 0.5
                    guiradio "modes" chosenlock 13 [] 0xFF0000
                    guistrut 0.5
                    guiradio "muting" chosenlock 14 [] 0xFF0000
                    guistrut 0.5
                    guiradio "spawn" chosenlock 15 [] 0xFF0000
                    guistrut 0.5
                    guiradio "set spectate" chosenlock 16 [] 0xFF0000
                    guistrut 0.5
                    guiradio "vars" chosenlock 17 [] 0xFF0000
                    guistrut 0.5
                    guiradio "vetoes" chosenlock 18 [] 0xFF0000
                    guistrut 0.5
                    guiradio "votes" chosenlock 19 [] 0xFF0000
                ]
            ]
            if (= $chosenlock 1) [ chosenlockaction = "allowlock" ]
            if (= $chosenlock 2) [ chosenlockaction = "teamlock" ]
            if (= $chosenlock 3) [ chosenlockaction = "banlock" ]
            if (= $chosenlock 4) [ chosenlockaction = "connectlock" ]
            if (= $chosenlock 5) [ chosenlockaction = "demolock" ]
            if (= $chosenlock 6) [ chosenlockaction = "editlock" ]
            if (= $chosenlock 7) [ chosenlockaction = "spawneditlock" ]
            if (= $chosenlock 8) [ chosenlockaction = "kicklock" ]
            if (= $chosenlock 9) [ chosenlockaction = "limitlock" ]
            if (= $chosenlock 10) [ chosenlockaction = "mapslock" ]
            if (= $chosenlock 11) [ chosenlockaction = "masterlock" ]
            if (= $chosenlock 12) [ chosenlockaction = "messagelock" ]
            if (= $chosenlock 13) [ chosenlockaction = "modelock" ]
            if (= $chosenlock 14) [ chosenlockaction = "mutelock" ]
            if (= $chosenlock 15) [ chosenlockaction = "spawnlock" ]
            if (= $chosenlock 16) [ chosenlockaction = "speclock" ]
            if (= $chosenlock 17) [ chosenlockaction = "varslock" ]
            if (= $chosenlock 18) [ chosenlockaction = "vetolock" ]
            if (= $chosenlock 19) [ chosenlockaction = "votelock" ]
            guibar "" 0 1 0xFF0000
            guinohitfx [
                guicenter [
                    guitext "set to priv: " "" 0xFF0000
                    guibutton "" [$chosenlockaction 0] [] "textures/privs/none" 0xFF0000 0xFF0000
                    guistrut 0.5
                    guibar "" 0 1 0xFF0000
                    guistrut 0.5
                    guibutton "" [$chosenlockaction 1] [] "textures/privs/player" 0xFF0000 0xFF0000
                    guistrut 0.5
                    guibar "" 0 1 0xFF0000
                    guistrut 0.5
                    guibutton "" [$chosenlockaction 2] [] "textures/privs/supporter" 0xFF0000 0xFF0000
                    guistrut 0.5
                    guibar "" 0 1 0xFF0000
                    guistrut 0.5
                    guibutton "" [$chosenlockaction 3] [] "textures/privs/moderator" 0xFF0000 0xFF0000
                    guistrut 0.5
                    guibar "" 0 1 0xFF0000
                    guistrut 0.5
                    guibutton "" [$chosenlockaction 4] [] "textures/privs/operator" 0xFF0000 0xFF0000
                    guistrut 0.5
                    guibar "" 0 1 0xFF0000
                    guistrut 0.5
                    guibutton "" [$chosenlockaction 5] [] "textures/privs/administrator" 0xFF0000 0xFF0000
                    guistrut 0.5
                    guibar "" 0 1 0xFF0000
                    guistrut 0.5
                    guibutton "" [$chosenlockaction 6] [] "textures/privs/developer" 0xFF0000 0xFF0000
                    guistrut 0.5
                    guibar "" 0 1 0xFF0000
                    guistrut 0.5
                    guibutton "" [$chosenlockaction 7] [] "textures/privs/founder" 0xFF0000 0xFF0000
                    guistrut 0.5
                    guibar "" 0 1 0xFF0000
                    guistrut 0.5
                    guibutton "" [$chosenlockaction 8] [] "textures/warning" 0xFF0000 0xFF0000
                ]
            ]
            guibar "" 0 1 0xFF0000
            guistrut 0.5
            guibar "" 0 1 0x00FFFF
            guinohitfx [
                guicenter [
                    guibutton "toggle bot removal" [ (if (= ($botlimit) 0) [botlimit (getvardef botlimit 1) ] [botlimit 0] ) ] [] "textures/privs/bot" 0x00FFFF 0x00FFFF
                    guistrut 0.5
                    guibar "" 0 1 0x00FFFF
                    guistrut 0.5
                    guibutton "toggle superbots" [ (if (= ($botskillmin) 101) [botskillmin (getvardef botskillmin 1); botskillmax (getvardef botskillmax 1); botspeed (getvardef botspeed 1) ] [botskillmin 101; botskillmax 101; botspeed 1.3] ) ] [] "textures/modes/onslaught" 0x00FFFF 0x00FFFF
                    guistrut 0.5
                    guibar "" 0 1 0x00FFFF
                    guistrut 0.5
                    guibutton "toggle weakbots" [ (if (= ($botskillmin) 20) [botskillmin (getvardef botskillmin 1); botskillmax (getvardef botskillmax 1); botspeed (getvardef botspeed 1) ] [botskillmin 20; botskillmax 20; botspeed 0.7] ) ] [] "textures/modes/deathmatch" 0x00FFFF 0x00FFFF
                ]
            ]
            guibar "" 0 1 0x00FFFF
        ]
    ]
]
